<h1><%= @workspace.name %></h1>

<% flash.each do |message_type, message| %>
  <%# message_type will be 'notice' or 'alert' %>
  <div class="flash flash-<%= message_type %>">
    <%= message %>
  </div>
<% end %>

<p>
  <strong>Description:</strong>
  <%= @workspace.name %>
  ===> Edit later
</p>
<p>
  ID: <%= @workspace.id %>
</p>

<p>
  Owner: <%= @workspace.owner&.name %>
</p>

<hr>
<% if @current_join %>
  <% if @current_join.role == 'owner' %>
    <%= button_to "Delete This Workspace", 
                  workspace_user_to_workspace_path(@workspace), 
                  method: :delete,
                  class: "button-danger",
                  data: { confirm: "OWNER: Are you sure? This will permanently delete this workspace for ALL members." } %>
  <% else %>
    <%= button_to "Leave This Workspace", 
                  workspace_user_to_workspace_path(@workspace), 
                  method: :delete,
                  data: { confirm: "Are you sure you want to leave this workspace?" } %>
  <% end %>

<% else %>
  
  <%# User is not a member, so show the "Join" button %>
  <%= button_to "Join Workspace as User", 
                workspace_user_to_workspace_path(@workspace), 
                method: :post %>

<% end %>
<hr>



<br>
<%= link_to "Back to all workspaces", root_path %>