<h2>Notifications</h2>

<div class="mb-3 d-flex">
  <div class="me-2">
    <%= button_to "Mark All as Read", mark_all_as_read_notifications_path, method: :post, class: "btn btn-sm btn-outline-secondary" %>
  </div>
  <div>
    <%= button_to "Delete All", delete_all_notifications_path, method: :delete, data: { confirm: "Are you sure you want to delete all notifications?" }, class: "btn btn-sm btn-outline-danger" %>
  </div>
</div>

<% if @notifications.any? %>
  <% @notifications.each do |note| %>
    <div style="margin-bottom: 10px; padding: 10px; border: 1px solid gray; background: <%= note.read ? '#f8f8f8' : '#fff3cd' %>;">
      <strong><%= note.message %></strong><br>
      <small><%= note.created_at.strftime('%b %d, %Y %I:%M %p') %></small><br>

      <div style="display: flex; gap: 8px; margin-top: 6px;">
          <% unless note.read %>
          <%= button_to "Mark as Read", mark_as_read_notification_path(note), method: :post, class: "btn btn-sm btn-outline-secondary" %>
          <% end %>

          <%= button_to "Delete", notification_path(note), method: :delete, data: { confirm: "Are you sure you want to delete this notification?" }, class: "btn btn-sm btn-outline-danger" %>
      </div>
    </div>
  <% end %>
<% else %>
  <p>You have no notifications.</p>
<% end %>