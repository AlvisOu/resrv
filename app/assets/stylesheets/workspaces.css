/* floating tooltip for owner hover */
#slot-tooltip {
  position: fixed;
  z-index: 9999;
  pointer-events: none;
  background: #111827;
  color: #fff;
  font-size: 12px;
  line-height: 1.4;
  padding: 8px 10px;
  border-radius: 8px;
  box-shadow: 0 6px 20px rgba(0,0,0,.2);
  max-width: 320px;
  display: none;
  white-space: normal;
}
#slot-tooltip .t-hed {
  font-weight: 600;
  margin-bottom: 4px;
  opacity: .9;
}
#slot-tooltip .t-body {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

.legend { display:flex; gap:1.25rem; align-items:center; margin: 0.5rem 0 1rem; font-size:14px; }
.legend .key { display:inline-flex; align-items:center; gap:0.5rem; }
.legend .swatch { width:16px; height:16px; border-radius:3px; border:1px solid #bbb; }

.schedule-wrapper {
  margin-top: 1rem;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  overflow: auto;
  max-height: 70vh;
  max-width: 100%;
  position: relative;
}
.schedule-grid {
  display: grid;
  /* Note: grid-template-columns is set inline in the view because it depends on @slots.size */
}
.cell {
  padding: 6px;
  border-right: 1px solid #e5e7eb;
  border-bottom: 1px solid #e5e7eb;
  background: #fff;
  font-size: 13px;
  line-height: 1.25;
  box-sizing: border-box;
}
.cell.sticky-1 { position: sticky; left: 0; background: #fff; font-weight: 600; z-index: 3; border-right: 1px solid #e5e7eb; }
.cell.sticky-2 { position: sticky; left: 150px; background: #fff; font-weight: 600; z-index: 3; border-right: 1px solid #e5e7eb; border-left: none; }
.time-cell { text-align: center; font-weight: 600; background: #f9fafb; position: sticky; top: 0; z-index: 2; font-size: 12px; color: #6b7280; padding: 8px 0; }
.corner { position: sticky; top: 0; left: 0; z-index: 4; background: #f9fafb; font-weight:700; color: #374151; }
.corner-2 { position: sticky; top: 0; left: 150px; z-index: 4; background: #f9fafb; font-weight:700; color: #374151; }

.slot {
  cursor: pointer;
  height: 32px;
  margin: 0;
  border-radius: 0;
  border: none;
  transition: background-color 0.1s ease;
}

/* meanings */
.slot.available   { 
  background: #86efac;
  border-right: 0.5px solid #4ade80;
} /* green-100 */
.slot.available:hover { background: #4ade80; }

.slot.unavailable { background: #f3f4f6; /* gray-100 */ 
                    background-image: repeating-linear-gradient(45deg, transparent, transparent 5px, #e5e7eb 5px, #e5e7eb 10px); }

.slot.selected    { background: #3b82f6; } /* blue-500 */
.slot.selected:hover { background: #2563eb; }

.slot.outside     { background: #f9fafb; cursor: not-allowed; }

.slot:hover { transform: none; }

.item-name { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 13px; }
.qty-wrap { display:flex; align-items:center; gap:4px; }
.qty-controls { display:inline-flex; flex-direction:column; gap:2px; }
.qty-btn {
  width:24px; height:20px; line-height:18px; text-align:center;
  border:1px solid #d1d5db; border-radius:4px; background:#fff; cursor:pointer;
  user-select:none; font-size:12px;
}
.qty-btn:disabled { opacity: 0.45; cursor: not-allowed; }
.qty-display { font-weight:700; min-width: 1.8rem; text-align:center; font-size:15px; }
.qty-cap { color:#6b7280; font-size: 12px; }

.actions-bar { margin-top: 14px; display: flex; justify-content: flex-end; }
.btn-primary {
  background: #111827; color: #fff; border: none;
  padding: 10px 16px; font-size: 15px; border-radius: 8px; cursor: pointer;
}
.btn-primary:hover { filter: brightness(1.05); }

.workspace-hero {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 16px;
  padding: 18px 0 10px;
}
.workspace-title { margin: 0; font-size: 28px; color: #0f172a; }
.workspace-meta { margin: 6px 0 0 0; color: #475569; font-size: 15px; }
.hero-actions { margin-top: 12px; display: flex; gap: 10px; align-items: center; flex-wrap: wrap; }
.btn-pill {
  display: inline-block;
  padding: 8px 14px;
  background: #fcd34d;
  color: #92400e;
  border-radius: 999px;
  font-weight: 700;
  text-decoration: none;
  border: 1px solid #f59e0b;
}
.link-inline { color: #0ea5e9; text-decoration: none; font-weight: 600; }
.link-inline:hover { text-decoration: underline; }
.hero-meta { text-align: right; color: #6b7280; font-size: 15px; }
.meta-label { margin: 0; text-transform: uppercase; letter-spacing: 0.05em; font-weight: 700; }
.meta-value { margin: 2px 0 0 0; font-size: 18px; color: #0f172a; font-weight: 700; }
.separator { color: #cbd5e1; margin: 0 6px; }

.banner-warning {
  display: flex;
  gap: 12px;
  border: 1px solid #f59e0b;
  background: #fef3c7;
  padding: 12px 14px;
  border-radius: 12px;
  margin-bottom: 14px;
}
.banner-icon { font-size: 20px; }
.banner-title { margin: 0; font-weight: 700; color: #92400e; }
.banner-body { margin: 4px 0 8px 0; color: #92400e; }
.banner-subtle { margin: 0; color: #92400e; font-size: 13px; }
.banner-subtle.success { color: #065f46; }
.appeal-form { display: flex; flex-direction: column; gap: 8px; max-width: 420px; }
.appeal-form .form-control { width: 100%; padding: 8px 10px; border:1px solid #d1d5db; border-radius: 8px; }
.btn-ghost {
  width: fit-content;
  padding: 8px 12px;
  border: 1px solid #111827;
  border-radius: 8px;
  background: #fff;
  color: #111827;
  font-weight: 600;
  cursor: pointer;
}
.btn-gold {
  background: linear-gradient(135deg, #fbbf24, #f59e0b);
  color: #78350f;
  border: none;
  padding: 8px 8px;
  border-radius: 999px;
  font-weight: 700;
  cursor: pointer;
  min-width: 140px;
  text-align: center;
}

.owner-mode .slot { cursor: pointer; pointer-events: auto; transform: none; }
.owner-mode .slot:hover { transform: none; }

.current-activity-section { margin: 2rem 0; }
.current-activity-section h3 { margin-bottom: 0.75rem; font-size: 1.25rem; }
.section-heading { margin-bottom: 0.75rem; font-size: 1.25rem; }
.activity-table {
  width: 100%;
  border-collapse: collapse;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
}
.activity-table th,
.activity-table td {
  padding: 12px 15px;
  border-bottom: 1px solid #e5e7eb;
  text-align: left;
}
.activity-table th {
  background-color: #fafafa;
  font-weight: 600;
  font-size: 13px;
  text-transform: uppercase;
  color: #374151;
}
.activity-table td { font-size: 14px; color: #111827; }
.activity-table tbody tr:last-child td { border-bottom: none; }
.current-activity-section p { color: #6b7280; font-style: italic; margin-top: 0.5rem; }
.activity-table th:last-child,
.activity-table td:last-child { text-align: center; }

.activity-actions { display: flex; gap: 8px; justify-content: center; }

.btn-action-warn {
  padding: 4px 8px;
  font-size: 12px;
  font-weight: 500;
  border: 1px solid #d97706;
  color: #d97706;
  background: #fffbeb;
  border-radius: 6px;
  cursor: pointer;
  text-decoration: none;
}
.btn-action-warn:hover { background: #fef3c7; }

.btn-action-revert {
  padding: 4px 8px;
  font-size: 12px;
  font-weight: 500;
  border: 1px solid #52525b;
  color: #3f3f46;
  background: #f4f4f5;
  border-radius: 6px;
  cursor: pointer;
  text-decoration: none;
}
.btn-action-revert:hover { background: #e4e4e7; }

.status-note { font-size: 11px; color: #6b7280; white-space: nowrap; }
.status-note-complete { font-size: 12px; color: #16a34a; font-weight: 500; white-space: nowrap; padding: 5px 0; }

.return-form-wrapper {
  display: flex; flex-direction: column; gap: 6px; align-items: center;
  border-left: 2px solid #e5e7eb; padding-left: 8px; margin-left: 8px;
}
.return-form { display: flex; gap: 6px; }
.return-input { width: 50px; padding: 4px 6px; font-size: 13px; border: 1px solid #d1d5db; border-radius: 6px; }

.delete-panel {
  margin-top: 24px;
  padding: 16px;
  border: 1px solid #fca5a5;
  background: #fef2f2;
  border-radius: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}
.btn-danger-solid {
  background: #b91c1c;
  color: #fff;
  border: none;
  padding: 10px 14px;
  border-radius: 10px;
  cursor: pointer;
}
